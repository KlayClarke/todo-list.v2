(()=>{"use strict";function e(e){let t=document.createElement("button");t.classList.add("delete-project"),t.classList.add("hide"),t.setAttribute("id",e.id),t.innerHTML="&times;",e.appendChild(t)}function t(e){let t=document.createElement("form");t.classList.add(".todo-form");let o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name","todo-name"),o.setAttribute("placeholder","Todo Text");let r=document.createElement("input");r.setAttribute("type","submit"),r.setAttribute("value","Add Todo"),t.appendChild(o),t.appendChild(r),e.appendChild(t)}function o(){!function(){const o=document.querySelector("#projects");if(o.innerHTML="",JSON.parse(localStorage.getItem("projects")))for(let r of JSON.parse(localStorage.getItem("projects"))){let c=document.createElement("div");c.classList.add("project"),c.setAttribute("id",r.id),c.innerText=`${r.name}: ${r.description} | ${r.dueDate}`,t(c),e(c),o.appendChild(c)}}(),console.log(JSON.parse(localStorage.getItem("projects")))}o();let r=document.querySelector("#create-project"),c=document.querySelectorAll(".delete-project");function n(e){for(let t of JSON.parse(localStorage.getItem("projects")))if(t.id==e.target.id){let t=JSON.parse(localStorage.getItem("projects")).filter((t=>t.id!=e.target.id));localStorage.setItem("projects",JSON.stringify(t))}o()}r.addEventListener("click",(function(){if(document.querySelector("input[name='project-name']").value&&document.querySelector("textarea[name='project-description']").value&&document.querySelector("input[name='project-due-date']").value){let e=document.querySelector("input[name='project-name']").value,t=document.querySelector("textarea[name='project-description']").value,r=document.querySelector("input[name='project-due-date']").value;Date.now(),function(e,t,o){let r={};r.id=Date.now(),r.name=e,r.description=t,r.dueDate=o,r.todos=[],function(){if(function(e){let t;try{t=window.localStorage;var o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()){localStorage.getItem("projects")||localStorage.setItem("projects",JSON.stringify([]));let e=JSON.parse(localStorage.getItem("projects"));e.push(r),localStorage.setItem("projects",JSON.stringify(e))}}(),Object.freeze(r)}(e,t,r),document.querySelector("input[name='project-name']").value="",document.querySelector("textarea[name='project-description']").value="",document.querySelector("input[name='project-due-date']").value="",o()}})),c.forEach((e=>e.addEventListener("click",n)))})();